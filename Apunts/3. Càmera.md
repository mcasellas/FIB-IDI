# IDI

## Càmera:

### Elements:

- **OBS** (observador)
- **VRP** (view reference point)
- **Up** (view up vector) *Inclinació de la càmera -> direcció eix vertical*

*Eixos de l'observador* **des de dalt:**

-|-|-
-|-|-
-|Y|X
-|Z|-

### Matriu:

s.x|s.y|s.z|0
-|-|-|-
w.x|w.y|w.z|0
F.x|F.y|F.z|0
0|0|0|1

```
  VM = Matriu * Trans(-OBS)
```
*La matriu la calculem:*
```
  F = OBS-VRP=(F.x,F.y,F.z)   F = F / ||F||

  S = up x F

  w = F x s
```

### Òptica:

> Varia la projecció.
>
> Ambdòs tenen window.


#### - Perspectiva:
Els punts més llunyans es veuen més petits.
```
   ⍺v (FOV = 2⍺v), RAw (relació aspecte), zNear, zFar
```

#### - Octogonal:
Els punts llunyants es veuen a la mateixa mida.
```
  l,r,b,t, -window-, zNear, zFar

  on left, right, bottom, top
```

### Relació d'aspecte del *window* i del *viewport*:

No deformació: `RAw = Rav`

***Exemple 1:*** Càmera perspectiva

Posició i orientació:
```
  Base: (0,10,0)
  Cap: (0,25,0)
  Con: (2.5, 25,0), r=2 i llargada 5 orientat segons l'eix X+

  VRP = (0,15,0) // Centre del ninot
  OBS = (30,15,0) // Preservo la Y i la X
  UP = (0,1,0)
```
Òptica i perspectiva:
```
  zNear = 20 // Estic a 30 i el ninot a 10 -> 30-10 = 20
  zFar = 40 // Començo a 20 i mesura 20 -> 20+20 = 40

  30/2 = 15 -> ⍺ = arctg(15/20) = 36,8º
  RAw = 20/30 = 0,66667 // Deformació

  // Arreglem
  RAv = 1
```

### Optenir punts en coordenades de clipping:
